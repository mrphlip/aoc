# 18 &ndash; RGB Herrings
OK, I absolutely fell face-first into the trap on this one. The instructions for part 1 talk all about colours and painting and whatnot, and none of it matters, so of course I assumed part 2 would be involving the colours in some way. So I put an amount of effort in while doing part 1 to make sure I kept track of what colour each cell on the border is, and assembled a full matrix of which grid cells are in the interior. But no, all that stuff about painting was a red herring, the actual part 2 had nothing to do with colours, it was actually the usual "surprise, the numbers are actually 4 orders of magnutide bigger than you thought, hope you didn't do any simple direct loops" reveal, which I absolutely was doing a bunch of to build that full grid map. Sigh.

At least, we get to re-use some thinking we already used on [day 10](10.md), since both involve finding the interior of some arbitrary recilinear curve. For part 1 at least, we do the same trick again: keep track of whether each border cell connects to another border cell north of it (which means flagging the cell _before_ each step, if we're going north, and flagging the cell _after_ each step, if we're going south) and use those to to flip back and forth between "inside" and "outside" as we scanline our way down the grid.

For part 2, we can't do it in the same way, but we can make use of the fact that while our coordinates are very large, the number of distinct _corners_ on our border is quite small. Which means we have large runs of rows in the grid that are all identical. Say for instance the border was a simple square, going from `(0,0)->(0,1000)->(1000,1000)->(1000,0)->(0,0)`. To solve the interior, we need to calculate the rows `y=0` and `y=1000` separately, since they have horizontal stretches of the border inside them and no other `y` values do so. But for the main interior, for `0 < y < 1000` we just need to calculate the area covered on a single row, and multiply it by `999`.

And to calculate the area of a single row, we can do the same idea, but horizontally. We need to consider the points `x=0` and `x=1000` individually, but then for the range `0 < x < 1000` we can consider whether it's inside the region or not, and if it is, we can add `999` to the area in one step.

Final solution came together reasonably quickly, considering its complexity, but a fair amount of time was wasted from the anticipatory prep in part 1 that didn't pan out, and then from largely having to redo the solution from scratch with very little being reusable from part 1.

[39/108]
