#!/usr/bin/python
from aocimports import *

dat = """\
......................................................................S......................................................................
.............................................................................................................................................
......................................................................^......................................................................
[...]"""

#dat = ".......S....... ............... .......^....... ............... ......^.^...... ............... .....^.^.^..... ............... ....^.^...^.... ............... ...^.^...^.^... ............... ..^...^.....^.. ............... .^.^.^.^.^...^. ..............."

dat = dat.split()
CY = len(dat)
CX = len(dat[0])

grid = set()
for y, row in enumerate(dat):
	for x, c in enumerate(row):
		if c == "S":
			SX, SY = x, y
		elif c == "^":
			grid.add((x, y))

xs = {SX: 1}
count = 0
for y in range(SY, CY):
	newxs = defaultdict(int)
	for x, v in xs.items():
		if (x, y) in grid:
			newxs[x-1] += v
			newxs[x+1] += v
			count += 1
		else:
			newxs[x] += v
	xs = newxs
print(count)
print(sum(xs.values()))
