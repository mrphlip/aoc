# 20 &ndash; This maze is full of mazes
Nothing super complicated here, ultimately. The hardest part is just in parsing the input, isolating all the labels and figuring out which tiles in the map they correspond to. Once we have all the portals matched up, it's a relatively simple extension of the Dijkstra implementation we already have to add the other end of the portal to the `neighbours` function in the appropriate place.

For part B, I tried attacking it directly, just doing the same thing again but keeping track of our depth into the maze, but this proved to take too long to run. So we borrow a trick from day 18, and pre-calculate the distances between the various portals (since we'll be visiting those routes repeatedly) and then Dijkstra on a more generalised graph where our nodes are the various portals at each depth. This works well, and gives us our answer... though we do have to put an upper limit on the depth of the maze, otherwise it will potentially run forever, and I had to expand this a couple of times before getting a result.
